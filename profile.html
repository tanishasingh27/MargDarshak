<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Margdarshak Profile</title>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
  font-family: Arial, sans-serif; 
}

body { 
  background-color: #f8f9fa; 
  color: #333; 
}

/* Navbar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 10%;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(12px);
  border-radius: 0 0 16px 16px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* Logo */
.navbar .logo {
  font-size: 24px;
  font-weight: 800;
  color: #007fe8;
  letter-spacing: 1px;
  transition: transform 0.3s;
}
.navbar .logo:hover {
  transform: scale(1.08);
}

/* Navbar Menu */
.navbar ul {
  list-style: none;
  display: flex;
  gap: 25px;
  align-items: center;
}

/* Links */
.navbar ul li a {
  text-decoration: none;
  color: #333;
  font-weight: 600;
  font-size: 15px;
  position: relative;
  transition: color 0.3s;
}
.navbar ul li a::after {
  content: "";
  position: absolute;
  width: 0%;
  height: 2px;
  left: 0;
  bottom: -6px;
  background: #007bff;
  transition: width 0.3s;
}
.navbar ul li a:hover {
  color: #007bff;
}
.navbar ul li a:hover::after {
  width: 100%;
}

/* Buttons */
.navbar ul li button {
  padding: 8px 18px;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  transition: all 0.3s;
}
.navbar ul li .profile-btn {
  background: #007bff;
  color: #fff;
}
.navbar ul li .profile-btn:hover {
  background: #0056b3;
  transform: translateY(-2px);
}
.navbar ul li .logout-btn {
  background: #ff4d4d;
  color: #fff;
}
.navbar ul li .logout-btn:hover {
  background: #cc0000;
  transform: translateY(-2px);
}

/* Container Layout */
.container {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 25px;
  max-width: 1200px;
  margin: 30px auto;
  padding: 0 20px;
}

/* Profile Card */
.profile-card {
  background: #fff;
  border-radius: 12px;
  padding: 25px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.avatar {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg,#6a11cb,#2575fc);
  display: flex; 
  align-items: center; 
  justify-content: center;
  color: white; 
  font-size: 24px; 
  font-weight: bold;
  margin: 0 auto 15px;
}
.profile-card h3 { margin-bottom: 6px; }
.profile-card p { color: #555; margin: 6px 0; }

/* Info Sections */
.info-sections {
  display: flex;
  flex-direction: column;
  gap: 20px;
}
.section {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.section h2 {
  margin-bottom: 15px;
  font-size: 18px;
  color: #007bff;
  font-weight: 600;
}
.form-group {
  margin-bottom: 12px;
}
.form-group label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
}
.form-group input {
  width: 100%;
  padding: 8px 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 14px;
}
button.saveBtn {
  background: #007bff;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  transition: background 0.3s;
}
button.saveBtn:hover {
  background: #0056b3;
}

/* Result Section */
.result-section {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.chart-container {
  width: 100%;
  max-width: 500px;
  margin: auto;
}
.recommendations ul {
  margin-top: 10px;
  padding-left: 20px;
}

  </style>
</head>
<body>
    <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">MargDarshak</div>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="assessment.html">Assessment</a></li>
      <li><a href="career.html">Career Guide</a></li>
      <li><a href="college.html">College</a></li>
      <li><a href="notification.html">Updates</a></li>
      <li><a id="profileBtn" href="profile.html" >Profile</a></li>
      <li><button id="logoutBtn" >Logout</button></li>
    </ul>
  </nav>

<div class="container">
  <!-- Left Profile Card -->
  <div class="profile-card">
    <div class="avatar" id="avatar">AS</div>
    <h3 id="profileName">Name</h3>
    <p id="profileClass">Class/Year</p>
    <p id="profileEmail">abc@email.com</p>
    <p id="profilePhone">+91 12XXXXXX9</p>
    <p id="profileSchool">School/University</p>
  </div>

  <!-- Right Info Sections -->
  <div class="info-sections">
    
    <!-- Personal Info -->
    <div class="section">
      <h2>Personal Information</h2>
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" id="fullName" placeholder="Enter full name">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="email" placeholder="Enter email">
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="text" id="phone" placeholder="Enter phone">
      </div>
      <div class="form-group">
        <label>Date of Birth</label>
        <input type="date" id="dob">
      </div>
      <button class="saveBtn" onclick="saveProfile()">Save Personal Info</button>
    </div>

    <!-- Academic Info -->
    <div class="section">
      <h2>Academic Information</h2>
      <div class="form-group">
        <label>Class/Year</label>
        <input type="text" id="classYear" placeholder="Enter class/year">
      </div>
      <div class="form-group">
        <label>School/Institution</label>
        <input type="text" id="school" placeholder="Enter school">
      </div>
      <div class="form-group">
        <label>City</label>
        <input type="text" id="city" placeholder="Enter city">
      </div>
      <div class="form-group">
        <label>State</label>
        <input type="text" id="state" placeholder="Enter state">
      </div>
      <button class="saveBtn" onclick="saveAcademic()">Save Academic Info</button>
    </div>

    <!-- Result Section -->
    <div class="result-section">
      <h2>ðŸ“Š Your Assessment Results</h2>
      <div class="chart-container">
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="recommendations">
        <h3>Recommended Courses & Career Paths</h3>
        <ul id="recommendedCourses"></ul>
      </div>
    </div>
  </div>
</div>

<script>
  // ðŸ”¹ Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyCgb7JhR9ko1YH2gyrPPtFb2ZGqq8IXg6g",
    authDomain: "margdarshak-58c9c.firebaseapp.com",
    projectId: "margdarshak-58c9c",
    storageBucket: "margdarshak-58c9c.appspot.com",
    messagingSenderId: "912493540489",
    appId: "1:912493540489:web:88e299d732a7ad7c6f0258",
    measurementId: "G-BYPBLGPZTY"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Save Personal Info
  function saveProfile() {
    const name = document.getElementById("fullName").value;
    const email = document.getElementById("email").value;
    const phone = document.getElementById("phone").value;
    const dob = document.getElementById("dob").value;

    // update side profile
    document.getElementById("profileName").textContent = name;
    document.getElementById("profileEmail").textContent = email;
    document.getElementById("profilePhone").textContent = phone;
    document.getElementById("avatar").textContent = name ? name.split(" ").map(n => n[0]).join("") : "NA";

    alert("âœ… Personal info saved (not yet linked to Firebase, just UI update).");
  }

  // Save Academic Info
  function saveAcademic() {
    const classYear = document.getElementById("classYear").value;
    const school = document.getElementById("school").value;
    const city = document.getElementById("city").value;
    const state = document.getElementById("state").value;

    // update side profile
    document.getElementById("profileClass").textContent = classYear + " Student";
    document.getElementById("profileSchool").textContent = school;

    alert("âœ… Academic info saved (UI update only).");
  }

  // Load latest quiz result
  const resultID = localStorage.getItem("quizResultID");
  if (resultID) {
    db.collection("quizResults").doc(resultID).get().then(doc => {
      if (doc.exists) {
        const data = doc.data();
        const ctx = document.getElementById("categoryChart").getContext("2d");
        new Chart(ctx, {
          type: "bar",
          data: {
            labels: Object.keys(data.categoryScores),
            datasets: [{
              label: "Scores",
              data: Object.values(data.categoryScores),
              backgroundColor: "rgba(39, 174, 96, 0.7)"
            }]
          },
          options: { responsive: true, scales: { y: { beginAtZero: true } } }
        });
        const recList = document.getElementById("recommendedCourses");
        data.recommendedCourses.forEach(c => {
          const li = document.createElement("li");
          li.textContent = c;
          recList.appendChild(li);
        });
      }
    });
  }
</script>

</body>
</html>
